<section>

	<h2>{{title}}</h2>

	<section ng-repeat="success in successMessages">
		<div class="alert alert-success" role="alert">
			{{success}}
		</div>		
	</section>
	
	<section ng-repeat="warning in warningMessages">
		<div class="alert alert-warning" role="alert">
			{{warning}}
		</div>		
	</section>
	
	<section ng-repeat="error in errorMessages">
		<div class="alert alert-danger" role="alert">
			{{error}}
		</div>		
	</section>
	
	<fieldset>
    <legend>{{legend}}</legend>
	    <form name="userForm"  novalidate>

		<div class="form-group">
			<label for="name">Nome</label>
			<input type="text" name="name" data-ng-model="user.name" class="form-control" placeholder="Nome" required=""/>

			<div class="form-messages" ng-messages="userForm.name.$error">
				<p ng-message="required">Campo obrigatório</p>
			</div>

		</div>

		<div class="form-group">
			<label for="email">E-mail</label>
			<input type="email" name="email" data-ng-model="user.email" class="form-control" placeholder="E-mail" required=""/>

			<div class="form-messages" ng-messages="userForm.email.$error">
				<p ng-message="email">E-mail inválido</p>
				<p ng-message="required">Campo obrigatório</p>
			</div>

		</div>

		<div class="form-group">
			<label for="phone">Telefone</label>
			<input type="number" name="phone" data-ng-model="user.phone" class="form-control" placeholder="Telefone" required=""/>

			<div class="form-messages" ng-messages="userForm.phone.$error">
				<p ng-message="required">Campo obrigatório</p>
			</div>

		</div>


		<div class="form-group">
			<label for="username">Matrícula</label>
			<div ng-if="user.userId == null">
				<input type="text" name="username" data-ng-model="$parent.user.username" class="form-control" placeholder="Matrícula" required=""/>
				
				<div class="form-messages" ng-messages="userForm.username.$error">
					<p ng-message="required">Campo obrigatório</p>
				</div>
				
			</div>
			<div ng-if="user.userId != null">
				<input type="text" name="username" data-ng-model="$parent.user.username" class="form-control" disabled="disabled"/>
			</div>
			
		</div>
		
		<div ng-if="user.userId == null" class="form-group">
			<label for="password">Senha</label> 
			<input type="password" name="password" data-ng-model="$parent.user.password" class="form-control" placeholder="Senha" ng-minlength="3" ng-maxlength="8" required=""/>

			<div class="form-messages" ng-messages="userForm.password.$error">
				<p ng-message="minlength">Senha muito pequena (mínimo de 3 e máximo de 8).</p>
				<p ng-message="maxlength">Senha muito pequena (mínimo de 3 e máximo de 8).</p>
				<p ng-message="required">Campo obrigatório</p>
			</div>

			<label for="password-confirmation">Confirmação de senha</label>
			<input type="password" name="password-confirmation" data-ng-model="$parent.user.password" class="form-control" placeholder="Informe novamente e senha" ng-minlength="3" ng-maxlength="8" required=""/>

		</div>

		<div class="checkbox form-group">
			<label for="status">
				<input type="checkbox" id="enabled" name="enabled" data-ng-model="user.enabled" /> Ativo
			</label> 
		</div>

		<input  type="text" id="userId" name="userId" data-ng-model="user.userId" hidden="true" />

		<button ng-show="user.userId" type="submit" data-ng-click="updateUser(user);" class="btn btn-primary">Alterar</button>
		<button ng-hide="user.userId" type="submit" data-ng-click="saveUser(user, userForm.$valid);" class="btn btn-primary">Adicionar</button>
		<button type="button" data-ng-click="cancel();" class="btn btn-danger">Cancelar</button>

	</form>
	</fieldset>
	

</section>